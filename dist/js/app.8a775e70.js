(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],l=0,p=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],o=!0,i=1;i<r.length;i++){var s=r[i];0!==n[s]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var o={},n={app:0},a=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"51e300e3"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r=n[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,o){r=n[t]=[e,o]}));e.push(r[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(t);var u=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var r=n[t];if(0!==r){if(r){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}n[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(r,o,function(e){return t[e]}.bind(null,o));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=u;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"034f":function(t,e,r){"use strict";var o=r("85ec"),n=r.n(o);n.a},5669:function(t,e,r){"use strict";var o=r("66a7"),n=r.n(o);n.a},"5b2e":function(t,e,r){},"5be5":function(t,e,r){"use strict";var o=r("617f"),n=r.n(o);n.a},"617f":function(t,e,r){},"64a7":function(t,e,r){},"66a7":function(t,e,r){},7780:function(t,e,r){},"85ec":function(t,e,r){},a07d:function(t,e,r){"use strict";var o=r("64a7"),n=r.n(o);n.a},a478:function(t,e,r){},b9dd:function(t,e,r){"use strict";var o=r("5b2e"),n=r.n(o);n.a},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("h1",[t._v("DI ROMA")]),r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/product"}},[t._v(" Stock | ")]),r("router-link",{attrs:{to:"/invoice"}},[t._v(" Facturación | ")])],1),r("router-view")],1)},a=[],i=(r("034f"),r("2877")),c={},s=Object(i["a"])(c,n,a,!1,null,null,null),u=s.exports,l=r("9483");Object(l["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});r("d3b7");var d=r("8c4f"),p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js + TypeScript App"}})],1)},v=[],h=r("d4ec"),f=r("262e"),m=r("2caf"),g=r("9ab4"),_=r("60a3"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h1",[t._v(t._s(t.msg))]),t._m(0),r("h3",[t._v("Installed CLI Plugins")]),t._m(1),r("h3",[t._v("Essential Links")]),t._m(2),r("h3",[t._v("Ecosystem")]),t._m(3)])},y=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),r("br"),t._v(" check out the "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa",target:"_blank",rel:"noopener"}},[t._v("pwa")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[t._v("router")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript",target:"_blank",rel:"noopener"}},[t._v("typescript")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],k=function(t){Object(f["a"])(r,t);var e=Object(m["a"])(r);function r(){return Object(h["a"])(this,r),e.apply(this,arguments)}return r}(_["c"]);Object(g["a"])([Object(_["b"])()],k.prototype,"msg",void 0),k=Object(g["a"])([_["a"]],k);var w=k,x=w,C=(r("5be5"),Object(i["a"])(x,b,y,!1,null,"45782c9c",null)),P=C.exports,O=function(t){Object(f["a"])(r,t);var e=Object(m["a"])(r);function r(){return Object(h["a"])(this,r),e.apply(this,arguments)}return r}(_["c"]);O=Object(g["a"])([Object(_["a"])({components:{HelloWorld:P}})],O);var E=O,S=E,j=Object(i["a"])(S,p,v,!1,null,null,null),D=j.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[0===t.products.length?r("div",[r("h3",[t._v("Aún no se registran productos")])]):t._e(),r("div",{staticClass:"console"},[r("div",{staticClass:"console-inner"},[r("table",[t._m(0),r("tbody",t._l(t.products,(function(e){return r("tr",{key:e._id},[r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.pname))]),r("td",{attrs:{rowspan:"1"}},[t._v("$"+t._s(e.cost))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.stock))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.code))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.category))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.description))]),r("td",{attrs:{rowspan:"1"}},[t._v("$"+t._s(e.oldValue)+" / "+t._s(t.timeDate(e.timestamp)))]),r("td",{staticStyle:{width:"60px"},attrs:{rowspan:"1"}},[r("tr",{staticStyle:{width:"100%",display:"block",background:"yellow","border-radius":"10px",color:"black","font-size":"14px"}},[r("router-link",{attrs:{to:{name:"EditProduct",params:{id:e._id}}}},[t._v(" Editar ")])],1),r("tr",{staticStyle:{width:"100%",display:"block"}},[r("button",{staticStyle:{background:"#EB6C49",width:"100%"},on:{click:function(r){return t.deleteProduct(e._id)}}},[t._v(" Borrar ")])])])])})),0)]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Home")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"},on:{click:function(e){return t.redirect("CreateProduct")}}},[t._v(" Nuevo Producto ")])])])])])},I=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("PRODUCTO")]),r("th",{attrs:{scope:"col"}},[t._v("PRECIO")]),r("th",{attrs:{scope:"col"}},[t._v("STOCK")]),r("th",{attrs:{scope:"col"}},[t._v("CÓDIGO")]),r("th",{attrs:{scope:"col"}},[t._v("CATEGORÍA")]),r("th",{attrs:{scope:"col"}},[t._v("DESCRIPCIÓN")]),r("th",{attrs:{scope:"col"}},[t._v("DIFF./MES")])])])}],T=(r("99af"),r("96cf"),r("1da1")),$={baseURL:"http://104.248.7.235:3000"},A=r("bc3a"),N=r.n(A),q={data:function(){return{products:[]}},created:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchProducts();case 2:case"end":return e.stop()}}),e)})))()},methods:{timeDate:function(t){return t.substring(5,10)},redirect:function(t){this.$router.push({name:t})},fetchProducts:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.get("".concat($.baseURL,"/product/products")).then((function(e){return t.products=e.data})));case 1:case"end":return e.stop()}}),e)})))()},deleteProduct:function(t){var e=confirm("Esta seguro que desea eliminar el producto del inventario?");1==e&&N.a.delete("".concat($.baseURL,"/product/delete?productID=").concat(t)).then((function(t){console.log(t),window.location.reload()}))}}},M=q,F=(r("f1a6"),Object(i["a"])(M,R,I,!1,null,null,null)),U=F.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[0===t.invoices.length?r("div",[r("h3",[t._v("Aún no se registran Facturas")])]):t._e(),r("div",{staticClass:"console"},[r("div",{staticClass:"console-inner"},[r("table",[t._m(0),r("tbody",t._l(t.invoices,(function(e){return r("tr",{key:e._id},[r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e._id))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(t.timeDate(e.timestamp)))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.paymentMethod))]),r("td",{attrs:{rowspan:"1"}},[t._v(t._s(e.toDeliver))]),r("td",{attrs:{rowspan:"1"}},[t._v("$"+t._s(e.total))]),r("td",{staticStyle:{width:"60px"},attrs:{rowspan:"1"}},[r("tr",{staticStyle:{width:"100%",display:"block",background:"yellow","border-radius":"10px",color:"black","font-size":"14px"}},[r("router-link",{attrs:{to:{name:"EditInvoice",params:{id:e._id}}}},[t._v(" Editar ")])],1),r("tr",{staticStyle:{width:"100%",display:"block"}},[r("button",{staticStyle:{background:"#EB6C49",width:"100%"},on:{click:function(r){return t.deleteInvoice(e._id)}}},[t._v(" Borrar ")])])])])})),0)]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Home")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"},on:{click:function(e){return t.redirect("CreateInvoice")}}},[t._v(" Nueva Factura ")]),r("button",{staticStyle:{background:"#782D4D",padding:"10px","margin-left":"20%"},on:{click:function(e){return t.pettyCashBtn()}}},[t._v(" Mostrar Caja ")]),1==this.showPettyCash?r("div",[t._v(" Caja Chica: $"+t._s(t.pettyCash)+" ")]):t._e()])])])])},L=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("NUMERO")]),r("th",{attrs:{scope:"col"}},[t._v("FECHA")]),r("th",{attrs:{scope:"col"}},[t._v("MÉTODO DE PAGO")]),r("th",{attrs:{scope:"col"}},[t._v("ENTREGA PENDIENTE")]),r("th",{attrs:{scope:"col"}},[t._v("TOTAL")])])])}],B=(r("a9e3"),{data:function(){return{invoices:[],pettyCash:Number,showPettyCash:!1}},created:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchInvoices();case 2:return e.next=4,t.transToDeliver();case 4:return e.next=6,t.calcPettyCash();case 6:case"end":return e.stop()}}),e)})))()},methods:{pettyCashBtn:function(){0==this.showPettyCash?this.showPettyCash=!0:this.showPettyCash=!1},timeDate:function(t){return t.substring(5,10)},calcPettyCash:function(){var t=null;for(var e in this.invoices){var r=new Date;this.timeDate(this.invoices[e].timestamp)==this.timeDate(r.toISOString())&&(t+=this.invoices[e].total)}this.pettyCash=t},transToDeliver:function(){for(var t in this.invoices)1==this.invoices[t].toDeliver?(console.log(this.invoices[t].toDeliver),this.invoices[t].toDeliver):(this.invoices[t].toDeliver,console.log(this.invoices[t].toDeliver))},redirect:function(t){this.$router.push({name:"".concat(t)})},fetchInvoices:function(){var t=this;return N.a.get("".concat($.baseURL,"/invoice/invoices")).then((function(e){return t.invoices=e.data}))},deleteInvoice:function(t){N.a.delete("".concat($.baseURL,"/invoice/delete?invoiceID=").concat(t)).then((function(t){console.log(t),window.location.reload()}))}}}),G=B,H=Object(i["a"])(G,V,L,!1,null,null,null),J=H.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-box"},[r("h2",[t._v("NUEVO PRODUCTO")]),r("form",{attrs:{id:"create-post-form"},on:{submit:function(e){return e.preventDefault(),t.createProduct(e)}}},[r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.pname,expression:"pname"}],attrs:{id:"pname",required:!0,type:"text",placeholder:"Nombre del artículo(*)"},domProps:{value:t.pname},on:{input:function(e){e.target.composing||(t.pname=e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.cost,expression:"cost"}],ref:"cost",attrs:{id:"cost",required:!0,type:"number",step:"0.1",min:"0",placeholder:"Precio(*)"},domProps:{value:t.cost},on:{input:function(e){e.target.composing||(t.cost=e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.stock,expression:"stock"}],attrs:{id:"stock",required:!0,type:"number",step:"0.001",min:"0",placeholder:"Cantidad(*)"},domProps:{value:t.stock},on:{input:function(e){e.target.composing||(t.stock=e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{id:"code",required:!0,type:"text",placeholder:"Código de Referencia(*)"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{required:!0},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category=e.target.multiple?r:r[0]}}},[r("option",[t._v("Almacén")]),r("option",[t._v("Fiambrería")])])]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",type:"text",placeholder:"Descripción"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Product")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"}},[t._v(" Aprobar ")])])])])])},z=[],W=(r("a4d3"),r("e01a"),{data:function(){return{pname:"",cost:Number,stock:Number,code:"",category:"",description:"",oldValue:""}},methods:{redirect:function(t){this.$router.push({name:"".concat(t)})},createProduct:function(){var t={pname:this.pname,cost:this.cost,stock:this.stock,code:this.code,category:this.category,description:this.description,oldValue:this.cost};this.__submitToServer(t)},__submitToServer:function(t){var e=this;N.a.post("".concat($.baseURL,"/product/create"),t).then((function(t){e.redirect("Product")}))}}}),K=W,Y=(r("b9dd"),Object(i["a"])(K,Q,z,!1,null,null,null)),X=Y.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-box"},[r("h2",[t._v("EDITAR PRODUCTO")]),r("form",{attrs:{id:"create-post-form"},on:{submit:function(e){return e.preventDefault(),t.editProduct(e)}}},[r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.pname,expression:"product.pname"}],attrs:{id:"pname",required:"true",type:"text",placeholder:"Nombre del artículo(*)"},domProps:{value:t.product.pname},on:{input:function(e){e.target.composing||t.$set(t.product,"pname",e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.cost,expression:"product.cost"}],attrs:{id:"cost",required:"true",type:"number",step:"0.1",min:"0",placeholder:"Precio(*)"},domProps:{value:t.product.cost},on:{input:function(e){e.target.composing||t.$set(t.product,"cost",e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.stock,expression:"product.stock"}],attrs:{id:"stock",required:"true",type:"number",step:"0.001",min:"0",placeholder:"Cantidad(*)"},domProps:{value:t.product.stock},on:{input:function(e){e.target.composing||t.$set(t.product,"stock",e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.code,expression:"product.code"}],attrs:{type:"text",id:"code",placeholder:"Código de Referencia"},domProps:{value:t.product.code},on:{input:function(e){e.target.composing||t.$set(t.product,"code",e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.category,expression:"product.category"}],attrs:{type:"text",id:"category",placeholder:"Categoria"},domProps:{value:t.product.category},on:{input:function(e){e.target.composing||t.$set(t.product,"category",e.target.value)}}})]),r("div",{staticClass:"input-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],attrs:{id:"description",type:"text",placeholder:"Descripción"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Product")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"},on:{click:function(e){return t.redirect("Product")}}},[t._v(" Aprobar ")])])])])])},tt=[],et={data:function(){return{id:0,product:{},saveOldValue:Number}},created:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,t.getProduct();case 3:t.loadOldValue();case 4:case"end":return e.stop()}}),e)})))()},methods:{loadOldValue:function(){this.saveOldValue=this.product.cost},editProduct:function(){var t={pname:this.product.pname,cost:this.product.cost,stock:this.product.stock,code:this.product.code,category:this.product.category,description:this.product.description,oldValue:this.saveOldValue};N.a.put("".concat($.baseURL,"/product/update?productID=").concat(this.id),t).then((function(t){bt.push({name:"Product"})}))},getProduct:function(){var t=this;return N.a.get("".concat($.baseURL,"/product/product/").concat(this.id)).then((function(e){return t.product=e.data}))},navigate:function(){bt.go(-1)}}},rt=et,ot=(r("5669"),Object(i["a"])(rt,Z,tt,!1,null,null,null)),nt=ot.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-box"},[r("h2",[t._v("NUEVA FACTURA")]),r("form",{attrs:{id:"create-post-form"},on:{submit:function(t){t.preventDefault()}}},[r("div",{staticClass:"input-box"},[r("label",{attrs:{name:"title"}},[t._v("Método de Pago: ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentMethod,expression:"paymentMethod"}],staticStyle:{width:"40%"},attrs:{required:"true"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.paymentMethod=e.target.multiple?r:r[0]}}},[r("option",{domProps:{selected:!0}},[t._v(" EFECTIVO ")]),r("option",[t._v(" MERCADOPAGO ")]),r("option",[t._v(" TARJETA ")])])]),r("div",{staticStyle:{"text-align":"left"}},[r("label",[t._v("Pendiente de Entrega")]),r("input",{ref:"toDeliver",staticStyle:{width:"10%"},attrs:{value:"SI",type:"checkbox"}})]),r("div",{staticClass:"input-box"},[r("label",{attrs:{name:"title"}},[t._v("Producto: ")]),r("select",{ref:"selectedProd",staticStyle:{width:"40%"},attrs:{required:"true"},on:{change:function(e){return t.onChange()}}},[r("option",{attrs:{selected:"true"}},[t._v(" Seleccione uno ")]),t._l(t.products,(function(e){return r("option",{key:e._id,domProps:{value:e._id}},[t._v(" "+t._s(e.pname)+" ")])}))],2),r("br"),r("input",{ref:"prodQty",staticStyle:{width:"80px","text-align":"center"},attrs:{id:"qty",required:!0,type:"number",step:"1",min:"0",placeholder:"Cantidad"}}),r("button",{staticStyle:{"border-radius":"40px",color:"black",align:"center","margin-left":"10%"},on:{click:t.addToCart}},[t._v(" Añadir ")])]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Invoice")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"},on:{click:t.createInvoice}},[t._v(" Aprobar ")])])])]),0!=this.cart.length?r("div",{staticClass:"form-box another"},[r("h2",[t._v("PRODUCTOS")]),r("table",[t._m(0),r("tbody",t._l(t.cart,(function(e){return r("tr",{key:e._id},[r("td",[t._v(t._s(e.pname))]),r("td",[t._v(t._s(e.qty))]),r("td",[t._v(t._s(e.cost))]),r("td",[r("button",{staticStyle:{background:"#EB6C49",width:"100%"},on:{click:function(r){return t.deleteProduct(e._id)}}},[t._v(" Quitar ")])])])})),0)]),t._v(" TOTAL = $"+t._s(t.total)+" ")]):t._e()])},it=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("Nombre")]),r("th",{attrs:{scope:"col"}},[t._v("cantidad")]),r("th",{attrs:{scope:"col"}},[t._v("Precio/Un.")])])])}],ct=(r("7db0"),r("a434"),{data:function(){return{productItem:{_id:"",pName:"",qty:Number},products:[],cart:[],paymentMethod:"EFECTIVO",toDeliver:"",total:Number}},created:function(){this.fetchProducts()},methods:{onChange:function(){var t=this.getProperty(this.$refs.selectedProd.value,"category");"Fiambrería"==t&&(this.$refs.prodQty.step=.001)},redirect:function(t){this.$router.push({name:"".concat(t)})},deleteProduct:function(t){for(var e in this.cart)this.cart[e]._id===t&&this.cart.splice(e,1)},addToCart:function(){var t=this.$refs.prodQty.value;if(t<=0||0==this.$refs.selectedProd.selectedIndex)alert("No ingresó ningún producto");else{var e=this.$refs.selectedProd.value,r=this.getProperty(e,"stock"),o=null;void 0===this.cart.find((function(t){return t._id==e}))?(o=0,console.log("cantidad undefined: "+o)):(o=this.cart.find((function(t){return t._id==e})).qty,console.log("cantidad incart: "+o));var n=parseFloat(o)+parseFloat(t);if(r<n)console.log("ERROR >>> qtyinstock: "+r+"  || qtyToAdd: "+t+"  || qtyinCart "+o+"  || total: "+n),alert("No hay suficientes stock de este producto para realizar la compra");else{for(var a in console.log("PASSED >>> qtyinstock: "+r+"  || qtyToAdd: "+t+"  || qtyinCart "+o+"  || total: "+n),this.productItem={_id:e,pname:this.getProperty(e,"pname"),cost:this.getProperty(e,"cost"),qty:parseFloat(this.$refs.prodQty.value)},this.cart)this.cart[a]._id===this.productItem._id&&(this.productItem.qty=parseFloat(this.cart[a].qty)+parseFloat(this.productItem.qty),this.cart.splice(a,1));this.cart.push(this.productItem),this.total=this.getTotal()}}},fetchProducts:function(){var t=this;N.a.get("".concat($.baseURL,"/product/products")).then((function(e){return t.products=e.data}))},getProperty:function(t,e){var r=this.products.find((function(e){return e._id==t}));return r[e]},createInvoice:function(){if(this.cart.length<=0)alert("No hay Productos Seleccionados");else{var t=confirm("Aprobar factura");if(1==t){!0===this.$refs.toDeliver.checked?this.toDeliver="SI":this.toDeliver="NO";var e={paymentMethod:this.paymentMethod,toDeliver:this.toDeliver,order:this.cart,total:this.total};this.__submitToServer(e)}}},getTotal:function(){var t=0;for(var e in this.cart){var r=this.cart[e].cost*this.cart[e].qty;t+=r}return t},__submitToServer:function(t){var e=this;N.a.post("".concat($.baseURL,"/invoice/create"),t).then((function(t){e.redirect("Invoice")}))}}}),st=ct,ut=(r("d99e"),Object(i["a"])(st,at,it,!1,null,null,null)),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"form-box"},[r("h2",[t._v("EDITAR FACTURA N°"+t._s(t.invoice._id))]),r("form",{attrs:{id:"create-post-form"},on:{submit:function(t){t.preventDefault()}}},[r("div",{staticClass:"input-box"},[r("label",{attrs:{name:"title"}},[t._v("Método de Pago: ")]),r("select",{ref:"paymentMethod",staticStyle:{width:"40%"},attrs:{required:"true"}},[r("option",[t._v(" EFECTIVO ")]),r("option",[t._v(" MERCADOPAGO ")]),r("option",[t._v(" TARJETA ")])])]),r("div",{staticStyle:{"text-align":"left"}},[r("label",[t._v("Pendiente de Entrega")]),r("input",{ref:"toDeliver",staticStyle:{width:"10%"},attrs:{value:"SI",type:"checkbox"}})]),r("div",{staticStyle:{"margin-top":"20px"}},[r("button",{staticStyle:{background:"#0f55e4","margin-right":"20%",padding:"10px"},on:{click:function(e){return t.redirect("Invoice")}}},[t._v(" Volver ")]),r("button",{staticStyle:{background:"#219E45",padding:"10px"},on:{click:t.editInvoice}},[t._v(" Guardar ")])])])]),r("div",{staticClass:"form-box another"},[r("h2",[t._v("PRODUCTOS")]),r("table",[t._m(0),r("tbody",t._l(t.invoice.order,(function(e){return r("tr",{key:e._id},[r("td",[t._v(t._s(e.pname))]),r("td",[t._v(t._s(e.qty))]),r("td",[t._v(t._s(e.cost))])])})),0)]),r("br"),t._v(" TOTAL: $"+t._s(t.invoice.total)+" ")])])},pt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("Nombre")]),r("th",{attrs:{scope:"col"}},[t._v("cantidad")]),r("th",{attrs:{scope:"col"}},[t._v("Precio/Un.")])])])}],vt={data:function(){return{id:0,invoice:{},product:{}}},created:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,t.getInvoice();case 3:t.loadOnForm();case 4:case"end":return e.stop()}}),e)})))()},methods:{redirect:function(t){this.$router.push({name:"".concat(t)})},loadOnForm:function(){switch(this.invoice.paymentMethod){case"EFECTIVO":this.$refs.paymentMethod[0].selected=!0;break;case"MERCADOPAGO":this.$refs.paymentMethod[1].selected=!0;break;case"TARJETA":this.$refs.paymentMethod[2].selected=!0;break}"SI"===this.invoice.toDeliver&&(this.$refs.toDeliver.checked=!0)},fetchProducts:function(){var t=this;return Object(T["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.get("".concat($.baseURL,"/product/products")).then((function(e){return t.products=e.data})));case 1:case"end":return e.stop()}}),e)})))()},editInvoice:function(){var t={number:this.invoice.number,paymentMethod:this.invoice.paymentMethod,toDeliver:this.invoice.toDeliver};N.a.put("".concat($.baseURL,"/invoice/update?invoiceID=").concat(this.id),t).then((function(t){bt.push({name:"Home"})}))},getInvoice:function(){var t=this;return N.a.get("".concat($.baseURL,"/invoice/invoice/").concat(this.id)).then((function(e){return t.invoice=e.data}))},navigate:function(){bt.go(-1)}}},ht=vt,ft=(r("a07d"),Object(i["a"])(ht,dt,pt,!1,null,null,null)),mt=ft.exports;o["a"].use(d["a"]);var gt=[{path:"/",name:"Home",component:D},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/product",name:"Product",component:U},{path:"/invoice",name:"Invoice",component:J},{path:"/product/create",name:"CreateProduct",component:X},{path:"/product/edit",name:"EditProduct",component:nt},{path:"/invoice/create",name:"CreateInvoice",component:lt},{path:"/invoice/edit",name:"EditInvoice",component:mt}],_t=new d["a"]({mode:"history",base:"/",routes:gt}),bt=_t;o["a"].config.productionTip=!1,new o["a"]({router:bt,render:function(t){return t(u)}}).$mount("#app")},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},d99e:function(t,e,r){"use strict";var o=r("a478"),n=r.n(o);n.a},f1a6:function(t,e,r){"use strict";var o=r("7780"),n=r.n(o);n.a}});
//# sourceMappingURL=app.8a775e70.js.map